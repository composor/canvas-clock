!function(){"use strict";function t(t,e){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];for(var r=void 0,a=[];o.length;)Array.isArray(r=o.shift())?r.map(function(t){return o.push(t)}):null!=r&&"boolean"!=typeof r&&("number"==typeof r&&(r+=""),a.push(r));return"string"==typeof t?{type:t,props:e||{},children:a}:t(e||{},a)}function e(t){if(t&&t.props)return t.props.key}function n(t,e){var n={};for(var o in t)n[o]=t[o];for(var i in e)n[i]=e[i];return n}function o(t,e,o,i){if("key"===e);else if("style"===e&&"string"!=typeof o)for(var r in n(i,o=o||{}))t.style[r]=o[r]+""||"";else{if(0===o&&(o+=""),"className"===e&&(e="class"),"o"==e[0]&&"n"==e[1]&&(e=e.toLowerCase()),"dangerouslySetInnerHTML"===e)return void(t.innerHTML=o);"http://www.w3.org/2000/svg"!==t.namespaceURI&&(t[e]=o),"function"!=typeof o&&(o?"xlink-href"===e?(t.setAttributeNS("http://www.w3.org/1999/xlink","href",o),t.setAttribute("href",o)):t.setAttribute(e,o):t.removeAttribute(e))}}function i(t,e){return"string"==typeof t?document.createTextNode(t):(n=t,a=void 0,a=(r=(r=e)||"svg"===n.type)?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type),Object.keys(n.props).forEach(function(t){return o(a,t,n.props[t])}),n.children.map(function(t){return a.appendChild(i(t,r))}),a);var n,r,a}var r=function(t,e){return t.removeChild(e)};function a(t,a,s,u){return function t(a,s,u,l,c,h){if(null==u)s=a.insertBefore(i(l,c),s);else if(null!=l.type&&l.type===u.type){U=s,N=u.props,D=l.props,Object.keys(n(N,D)).forEach(function(t){var e=D[t],n="value"===t||"checked"===t?U[t]:N[t];e!==n&&o(U,t,e,n)}),c=c||"svg"===l.type;for(var d=l.children.length,p=u.children.length,f={},m=[],v={},y=0;y<p;){var w=m[y]=s.childNodes[y],b=u.children[y],k=e(b);null!=k&&(f[k]=[w,b]),y++}for(var g=0,C=0;C<d;){var I=m[g],S=u.children[g],M=l.children[C],W=e(S);if(v[W])g++;else{var x=e(M),F=f[x]||[];null==x?(null==W&&(t(s,I,S,M,c),C++),g++):(W===x?t(s,F[0],F[1],M,c)&&g++:F[0]?s.insertBefore(F[0],I)&&t(s,F[0],F[1],M,c):t(s,I,null,M,c),v[x]=M,C++)}}for(;g<p;){var P=u.children[g],T=e(P);null==T&&r(s,m[g]),g++}Object.keys(f).forEach(function(t){var e=f[t],n=e[1];v[n.props.key]||r(s,e[0])})}else s&&l!==s.nodeValue&&("string"==typeof l&&"string"==typeof u?s.nodeValue=l:(s=a.insertBefore(i(l,c),h=s),r(a,h,u.data)));var U,N,D;return s}(u||document.body,s,t,a)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=(function(){function t(t){this.value=t}function e(e){var n,o;function i(n,o){try{var a=e[n](o),s=a.value;s instanceof t?Promise.resolve(s.value).then(function(t){i("next",t)},function(t){i("throw",t)}):r(a.done?"return":"normal",a.value)}catch(t){r("throw",t)}}function r(t,e){switch(t){case"return":n.resolve({value:e,done:!0});break;case"throw":n.reject(e);break;default:n.resolve({value:e,done:!1})}(n=n.next)?i(n.key,n.arg):o=null}this._invoke=function(t,e){return new Promise(function(r,a){var s={key:t,arg:e,resolve:r,reject:a,next:null};o?o=o.next=s:(n=o=s,i(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)},d=(new Date).getTime(),p=function(){function t(e){u(this,t),e||(e={}),this.selector=e.container||e.root||"body",e.render&&(this.render=e.render),e.state&&(this.state=e.state),this.oldNode=null,this.selector&&(this.container=document.querySelector(this.selector)),this.componentShouldUpdate=!0,this.mounted=!1,this.element,(e.componentWillMount||e.beforeCreateComponent)&&(this.componentWillMount=e.componentWillMount||e.beforeCreateComponent),this.beforeCreateComponent&&(this.componentWillMount=this.beforeCreateComponent),(e.componentDidMount||e.componentWasCreated)&&(this.componentDidMount=e.componentDidMount||e.componentWasCreated),this.componentWasCreated&&(this.componentDidMount=this.componentWasCreated),e.componentWillUpdate&&(this.componentWillUpdate=e.componentWillUpdate),e.componentDidUpdate&&(this.componentDidUpdate=e.componentDidUpdate),e.componentWillUnmount&&(this.componentWillUnmount=e.componentWillUnmount)}return l(t,[{key:"setState",value:function(t,e){if("function"==typeof t){var o=t.call(this,this.state);"function"!=typeof o&&o&&this.setState(o)}else if(Array.isArray(this.state)){var i=this.state;e||0===e?"object"===s(i[e])?this.state=n(i[e],t):(i[e]=t,this.state=i):this.state=i}else if("object"===s(this.state)){var r=this.state;this.state=n(r,t)}else this.state=t}},{key:"update",value:function(t){if(this.render&&(this.componentShouldUpdate||!this.mounted)){var e=this.state;!0!==t&&t&&(e=t),this.container&&"string"==typeof this.container&&(this.selector=this.container,this.container=document.querySelector(this.container));var n=this.render,o=this.render(e),i=void 0;if(o&&o.props&&o.props.id&&(i=this.container&&this.container.querySelector("#"+o.props.id)),i&&!this.mounted&&i.parentNode.removeChild(i),this.element=a(this.oldNode,this.oldNode=this.render(e),this.element,this.container),!(this.mounted&&this.oldNode&&r(e)))return this.componentWillMount&&this.componentWillMount(this),this.componentDidMount&&this.componentDidMount(this),void(this.mounted=!0);this.componentWillUpdate&&this.componentWillUpdate(this),this.componentDidUpdate&&r(e)&&this.componentDidUpdate(this)}function r(t){return!this||JSON.stringify(this.oldNode)!==JSON.stringify(n(t))}}},{key:"unmount",value:function(){var t=this;if(this.element){for(var e in this.componentWillUnmount&&this.componentWillUnmount(this),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mouseleave","select","input","change","keydown","keypress","keyup","submit"].map(function(e){t.element.removeEventListener(e,t)}),this.container.removeChild(this.element),this.container=void 0,this)delete this[e];delete this.state,this.update=void 0,this.unmount=void 0}}},{key:"state",get:function(){return this[d]},set:function(t){var e=this;this[d]=t,h(function(){return e.update()})}}]),t}(),f=new p({container:"header",render:function(e){return t("nav",null,t("h1",null,e))}}),m=function(e){function n(t){u(this,n);var e=c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.props=t,e.state={time:new Date},e.radius=e.props.size/2,e.drawingContext=null,e.hourFormat=t.hourFormat,e.drawRoman="roman"===e.hourFormat.toLowerCase().trim(),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,p),l(n,[{key:"render",value:function(e){return t("div",{className:"Clock"},t("h2",null,"Canvas Clock"),t("canvas",{width:"250",height:"250",ref:"clockCanvas"}),t("p",null,t("button",null,"Toggle Hour Format")))}},{key:"getDrawingContext",value:function(){this.drawingContext=this.element.querySelector("canvas").getContext("2d"),this.drawingContext.translate(this.radius,this.radius),this.radius*=.9}},{key:"tick",value:function(){this.setState({time:new Date});var t=this.radius,e=this.drawingContext;this.drawFace(e,t),this.drawNumbers(e,t),this.drawTicks(e,t),this.drawTime(e,t)}},{key:"drawFace",value:function(t,e){t.beginPath(),t.arc(0,0,e,0,2*Math.PI),t.fillStyle="#FEF6EF",t.fill();var n=t.createRadialGradient(0,0,.95*e,0,0,1.05*e);n.addColorStop(0,"#FF7F50"),n.addColorStop(.5,"white"),n.addColorStop(1,"#FF7F50"),t.strokeStyle=n,t.lineWidth=.1*e,t.stroke(),t.beginPath(),t.arc(0,0,.05*e,0,2*Math.PI),t.fill()}},{key:"drawNumbers",value:function(t,e){var n=["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"],o=.15*e+"px Arial",i=void 0,r=void 0;for(t.textBaseline="middle",t.textAlign="center",r=1;r<13;r++)i=r*Math.PI/6,t.rotate(i),t.translate(0,.78*-e),t.rotate(-i),t.font=o,t.fillStyle="black",t.fillText(this.drawRoman?n[r-1]:r.toString(),0,0),t.rotate(i),t.translate(0,.78*e),t.rotate(-i)}},{key:"drawTicks",value:function(t,e){var n=void 0,o=void 0,i=void 0,r=void 0;for(n=0;n<60;n++)o=n*Math.PI/30,i=e*Math.sin(o),r=-e*Math.cos(o),t.beginPath(),t.lineWidth=.01*e,t.moveTo(i,r),n%5==0?t.lineTo(.88*i,.88*r):t.lineTo(.92*i,.92*r),t.stroke()}},{key:"drawTime",value:function(t,e){var n=this.state.time,o=n.getHours(),i=n.getMinutes(),r=n.getSeconds();o=(o%=12)*Math.PI/6+i*Math.PI/360+r*Math.PI/21600,this.drawHand(t,o,.5*e,.05*e),i=i*Math.PI/30+r*Math.PI/1800,this.drawHand(t,i,.8*e,.05*e),r=r*Math.PI/30,this.drawHand(t,r,.9*e,.02*e,"red"),this.interval}},{key:"drawHand",value:function(t,e,n,o,i){i=i||"black",t.beginPath(),t.lineWidth=o,t.lineCap="round",t.fillStyle=i,t.strokeStyle=i,t.moveTo(0,0),t.rotate(e),t.lineTo(0,-n),t.stroke(),t.rotate(-e)}},{key:"handleEvent",value:function(t){"BUTTON"===t.target.nodeName&&(this.drawRoman=!this.drawRoman,this.update())}},{key:"componentDidMount",value:function(){var t=this;this.element.addEventListener("click",this),this.getDrawingContext(),this.interval=setInterval(function(){t.tick()},200)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}}]),n}();f.state="Composi Canvas Clock",new m({container:"section",size:250,width:250,standard:"normal",hourFormat:"roman"}).update()}();
//# sourceMappingURL=app.js.map
